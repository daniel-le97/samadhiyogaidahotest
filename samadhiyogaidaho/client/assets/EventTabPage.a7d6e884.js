import"./events.ef5b0c2a.js";import{_ as h,x as y,V as b,P as n,j as g,l as E,A as r,v as w,c as a,a as s,b as d,m as l,F as C,C as k,o as c,p as x,d as S,r as u}from"./index.c90a785d.js";import{e as v,E as D,a as I}from"./EventForm.46f25210.js";const F={setup(){y(()=>{o()}),b(()=>r.activeEvent=null);async function o(){try{await v.getEvents()}catch(e){n.error(e)}}const _=g(!1);return{events:E(()=>r.events),form:_,activeEvent:E(()=>r.activeEvent),async editEvent(e){try{e.startDate=new Date(e.startDate).toISOString().slice(0,-1),e.endDate=new Date(e.endDate).toISOString().slice(0,-1),r.activeEvent=e,w.log(r.activeEvent)}catch(t){n.error(t)}},async createEvent(){try{await v.createEvent()}catch(e){n.error(e,"[create Event]")}},async deleteEvent(e){try{if(!await n.confirm())return;await v.deleteEvent(e),n.success("event deleted")}catch(t){n.error(t,"[create Event]")}}}},components:{EventForm:D,EventCard:I}},B=o=>(x("data-v-f7632e14"),o=o(),S(),o),P={class:"container-fluid my-3"},V={key:0,class:"row my-5"},N={class:"col-md-12"},j=B(()=>s("button",{class:"btn btn-outline-success font-2 fs-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"}," Create Event ",-1)),A={class:"collapse",id:"collapseExample"},L={key:1,class:"row"},O={class:"position-relative"},T={class:"d-flex justify-content-center gap-2 position-absolute bottom-100"},M=["onClick"],R=["onClick"],q={key:2,class:"container-fluid"},z={class:"row"},G={class:"col-12"};function H(o,_,e,t,J,K){const p=u("EventForm"),f=u("EventCard");return c(),a("div",P,[t.activeEvent?l("",!0):(c(),a("div",V,[s("div",N,[j,s("div",A,[d(p)])])])),t.activeEvent?l("",!0):(c(),a("div",L,[(c(!0),a(C,null,k(t.events,i=>(c(),a("div",{class:"col-12",key:i.id},[s("div",O,[d(f,{event:i},null,8,["event"]),s("div",T,[s("button",{class:"btn btn-outline-warning font-2 fs-3",onClick:m=>t.editEvent(i)}," edit event ",8,M),s("button",{class:"btn btn-outline-danger font-2 fs-3",onClick:m=>t.deleteEvent(i.id)}," delete event ",8,R)])])]))),128))])),t.activeEvent?(c(),a("div",q,[s("div",z,[s("div",G,[d(p)])])])):l("",!0)])}const X=h(F,[["render",H],["__scopeId","data-v-f7632e14"]]);export{X as default};
