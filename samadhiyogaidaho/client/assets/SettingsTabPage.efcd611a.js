import{_ as C,x as f,E as r,P as s,j as g,l as d,A as c,c as i,a as o,F as m,C as v,z as h,e as w,B as y,t as p,m as k,o as n,G as x}from"./index.c90a785d.js";const E={setup(){f(()=>{_()});async function _(){try{const{pocketBaseService:t}=await r(()=>import("./PocketBaseService.d7c022d6.js"),["assets/PocketBaseService.d7c022d6.js","assets/compressor.esm.0d3c567c.js","assets/index.c90a785d.js","assets/index.801390b3.css"]);await t.getCollections()}catch(t){s.error(t)}}const l=g({collection:{name:"default"}});return{uploaded:d(()=>c.uploadedImgs),loading:d(()=>c.loading),collections:d(()=>c.collections),activeCollection:l,async uploadFile(t){try{c.loading=!0;const{pocketBaseService:e}=await r(()=>import("./PocketBaseService.d7c022d6.js"),["assets/PocketBaseService.d7c022d6.js","assets/compressor.esm.0d3c567c.js","assets/index.c90a785d.js","assets/index.801390b3.css"]);await e.uploadFile(t,l.value.collection),c.loading=!1}catch(e){s.error(e)}},async makeActiveCollection(t){try{l.value.collection=t}catch(e){s.error(e)}},async addCollection(){try{let t=l.value.newName;const{pocketBaseService:e}=await r(()=>import("./PocketBaseService.d7c022d6.js"),["assets/PocketBaseService.d7c022d6.js","assets/compressor.esm.0d3c567c.js","assets/index.c90a785d.js","assets/index.801390b3.css"]);await e.createCollection(t)}catch(t){s.error(t)}}}}},A={class:"container"},B={class:"row"},P={class:"col-12"},S=o("span",null,"choose a collection to upload to:",-1),F={class:"d-flex flex-wrap gap-3"},V=["onClick"],b=o("button",{type:"submit"},"create new collection",-1),D={class:"col-12"},N={key:0},T={class:"row flex-wrap"},I={class:"col-6"},L=["src"];function M(_,l,t,e,O,R){return n(),i("div",A,[o("div",B,[o("div",P,[o("div",null,[S,o("div",F,[(n(!0),i(m,null,v(e.collections,a=>{var u;return n(),i("div",null,[o("div",{onClick:z=>e.makeActiveCollection(a),class:x(((u=e.activeCollection.collection)==null?void 0:u.name)==a.name?"bg-primary":"")},p(a.name),11,V)])}),256))]),o("form",{onSubmit:l[1]||(l[1]=h((...a)=>e.addCollection&&e.addCollection(...a),["prevent"]))},[w(o("input",{type:"text",id:"newCollection","onUpdate:modelValue":l[0]||(l[0]=a=>e.activeCollection.newName=a)},null,512),[[y,e.activeCollection.newName]]),b],32)])]),o("div",D,[o("input",{type:"file",multiple:"",onChange:l[2]||(l[2]=(...a)=>e.uploadFile&&e.uploadFile(...a))},null,32),e.loading?(n(),i("div",N,p(e.loading)+" files left",1)):k("",!0)])]),o("div",T,[(n(!0),i(m,null,v(e.uploaded,a=>(n(),i("div",I,[o("img",{src:a,alt:"",width:"500",height:"500"},null,8,L)]))),256))])])}const G=C(E,[["render",M]]);export{G as default};
